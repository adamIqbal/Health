package txtParser;

import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.util.ArrayList;
import java.util.List;

import javax.xml.stream.XMLEventReader;
import javax.xml.stream.XMLInputFactory;
import javax.xml.stream.XMLStreamException;
import javax.xml.stream.events.StartElement;
import javax.xml.stream.events.XMLEvent;

public class xmlParser {
	String dir = "/configParser.xml";

	public void parseFile(String fileName) {
		if (fileName != null)
			dir = fileName;
		List<String> xmlList = parseXML(dir);
	}

	public List<String> parseXML(String dir) {

		List<String> xmlList = new ArrayList<String>();

		XMLInputFactory xmlInputFactory = XMLInputFactory.newInstance();
		try {
			XMLEventReader xmlEventReader = xmlInputFactory
					.createXMLEventReader(new FileInputStream(dir));
			while (xmlEventReader.hasNext()) {
				XMLEvent xmlEvent = xmlEventReader.nextEvent();
				if (xmlEvent.isStartElement()) {

					StartElement startElement = xmlEvent.asStartElement();

					if (startElement.getName().getLocalPart()
							.equals("DELIMITER")) {
						emp = new Employee();
						// Get the 'id' attribute from Employee element
						Attribute idAttr = startElement
								.getAttributeByName(new QName("id"));

						if (idAttr != null) {
							emp.setId(Integer.parseInt(idAttr.getValue()));
						}

					}

				}

			}

		} catch (FileNotFoundException | XMLStreamException e) {
			e.printStackTrace();
		}
		return xmlList;
	}

}
// public static void main(String[] args) {
//
// try {
// SAXParserFactory parseFactory = SAXParserFactory.newInstance();
// SAXParser parser = parseFactory.newSAXParser();
//
// saxHandler handler = new saxHandler();
//
// parser.parse(
// ClassLoader
// .getSystemResourceAsStream("parser/sources/testParser.xml"),
// handler);
// } catch (SAXException | IOException | ParserConfigurationException e) {
//
// e.printStackTrace();
// }
//
// }
// }
